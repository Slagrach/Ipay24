!function(){var i={623:function(){var e,t,i,s=document.querySelector("body"),r=getComputedStyle(document.documentElement).getPropertyValue("--containerWidth");s.style.fontSize=(s=320,r=r,e=.75,t=1,i=document.querySelector("html"),i=Number(getComputedStyle(i).fontSize.slice(0,-2)),i=-(s=s/i)*(r=(t-e)/(r/i-s))+e,"clamp(".concat(e,"rem, ").concat(i,"rem + ").concat(100*r,"vw, ").concat(t,"rem)"))},825:function(){var t,i,s,e,r;void 0!==document.querySelector(".edit__form-url")&&null!=document.querySelector(".edit__form-url")&&(t=document.querySelector(".selected-change"),i=document.querySelector(".options-overflow"),s=document.querySelector(".select-box--change"),e=document.querySelectorAll(".option-change"),r=document.querySelector(".edit__form-url"),t.addEventListener("click",function(){i.classList.toggle("active"),s.classList.toggle("active"),r.classList.toggle("active")}),e.forEach(function(e){e.addEventListener("click",function(){t.innerHTML=e.querySelector("label").innerHTML,i.classList.remove("active"),s.classList.remove("active"),r.classList.remove("active")})})),document.querySelector(".wrapper").addEventListener("click",function(e){var t,i=e.target.closest(".select-box");i&&(t=i.querySelector(".options-container"),e.target.closest(".selected")?t.classList.toggle("active"):(e=e.target.closest(".option"))&&(i.querySelector(".selected").innerHTML=e.querySelector("label").innerHTML,t.classList.remove("active")))}),void 0!==document.querySelector(".modal")&&null!=document.querySelector(".modal")&&document.querySelector(".modal").addEventListener("click",function(e){var t,i=e.target.closest(".select-box");i&&(t=i.querySelector(".options-container"),e.target.closest(".selected")?t.classList.toggle("active"):(e=e.target.closest(".option"))&&(i.querySelector(".selected").innerHTML=e.querySelector("label").innerHTML,t.classList.remove("active")))})},662:function(e){"use strict";r.isSettingTrue=function(e){return""===e||!0===e||1===e},r.prototype.getElementListener=function(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){var e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element},r.prototype.addEventListeners=function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)},r.prototype.removeEventListeners=function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)},r.prototype.destroy=function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null},r.prototype.onDeviceOrientation=function(e){var t,i;null!==e.gamma&&null!==e.beta&&(this.updateElementPosition(),0<this.gyroscopeSamples&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),--this.gyroscopeSamples),i=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,t=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,i=i/this.width,t=t/this.height,i=(e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/i,e=(e.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/t,null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:i+this.left,clientY:e+this.top},this.updateCall=requestAnimationFrame(this.updateBind))},r.prototype.onMouseEnter=function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()},r.prototype.onMouseMove=function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)},r.prototype.onMouseLeave=function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)},r.prototype.reset=function(){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};var e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()},r.prototype.resetGlare=function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")},r.prototype.getValues=function(){var e=void 0,t=void 0,t=this.fullPageListening?(e=this.event.clientX/this.clientWidth,this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1);return t=Math.min(Math.max(t,0),1),{tiltX:(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(t*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*e,percentageY:100*t,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}},r.prototype.updateElementPosition=function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top},r.prototype.update=function(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate("+e.angle+"deg) translate(-50%, -50%)",this.glareElement.style.opacity=""+e.percentageY*this.settings["max-glare"]/100),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null},r.prototype.prepareGlare=function(){var e,t;this.glarePrerender||((e=document.createElement("div")).classList.add("js-tilt-glare"),(t=document.createElement("div")).classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)),this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none","border-radius":"inherit"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())},r.prototype.updateGlareSize=function(){var e;this.glare&&(e=2*(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight),Object.assign(this.glareElement.style,{width:e+"px",height:e+"px"}))},r.prototype.updateClientSize=function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},r.prototype.onWindowResize=function(){this.updateGlareSize(),this.updateClientSize()},r.prototype.setTransition=function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity "+this.settings.speed+"ms "+this.settings.easing),this.transitionTimeout=setTimeout(function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")},this.settings.speed)},r.prototype.extendSettings=function(e){var t,i={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,"reset-to-start":!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},s={};for(t in i)if(t in e)s[t]=e[t];else if(this.element.hasAttribute("data-tilt-"+t)){var r=this.element.getAttribute("data-tilt-"+t);try{s[t]=JSON.parse(r)}catch(e){s[t]=r}}else s[t]=i[t];return s},r.init=function(e,t){(e=(e=e instanceof Node?[e]:e)instanceof NodeList?[].slice.call(e):e)instanceof Array&&e.forEach(function(e){"vanillaTilt"in e||(e.vanillaTilt=new r(e,t))})};var t=r;function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,s=r;if(!(i instanceof s))throw new TypeError("Cannot call a class as a function");if(!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(t),this.reverse=this.settings.reverse?-1:1,this.resetToStart=r.isSettingTrue(this.settings["reset-to-start"]),this.glare=r.isSettingTrue(this.settings.glare),this.glarePrerender=r.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=r.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=r.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),!1===this.resetToStart&&(this.settings.startX=0,this.settings.startY=0)}"undefined"!=typeof document&&(window.VanillaTilt=t).init(document.querySelectorAll("[data-tilt]")),e.exports=t}},s={};function X(e){var t=s[e];return void 0!==t||(t=s[e]={exports:{}},i[e](t,t.exports,X)),t.exports}X.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return X.d(t,{a:t}),t},X.d=function(e,t){for(var i in t)X.o(t,i)&&!X.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},X.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};!function(){"use strict";var e,t,i=window.navigator.userAgent,s=(i.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return s.Android()||s.BlackBerry()||s.iOS()||s.Opera()||s.Windows()}});function r(){return-1<(i=navigator.userAgent).indexOf("MSIE ")||-1<i.indexOf("Trident/")}if(r()&&document.querySelector("html").classList.add("_ie"),s.any()&&document.querySelector("html").classList.add("_touch"),e=function(e){!0===e?document.querySelector("html").classList.add("_webp"):document.querySelector("html").classList.add("_no-webp")},(t=new Image).onload=t.onerror=function(){e(2===t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",r())for(var l=document.querySelectorAll("._ibg"),o=0;o<l.length;o++)l[o].querySelector("img")&&null!=l[o].querySelector("img").getAttribute("src")&&(l[o].style.backgroundImage="url("+l[o].querySelector("img").getAttribute("src")+")");window.addEventListener("load",function(){document.querySelector(".wrapper")&&setTimeout(function(){document.querySelector(".wrapper").classList.add("_loaded")},0)});var n=!0;function a(e){(document.querySelector("body").classList.contains("_lock")?d:c)(e)}function d(e){var t,i=document.querySelector("body");n&&(t=document.querySelectorAll("._lp"),setTimeout(function(){for(var e=0;e<t.length;e++)t[e].style.paddingRight="0px";i.style.paddingRight="0px",i.classList.remove("_lock")},e),n=!1,setTimeout(function(){n=!0},e))}function c(e){var t=document.querySelector("body");if(n){for(var i=document.querySelectorAll("._lp"),s=0;s<i.length;s++)i[s].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),n=!1,setTimeout(function(){n=!0},e)}}X(623);var u,h=document.querySelector(".icon-menu"),f=document.querySelector(".menu__body"),g=(h&&h.addEventListener("click",function(e){n&&(a(),h.classList.toggle("_active"),f.classList.toggle("_active"))}),document.querySelectorAll("._link[data-link]")),m=(0<g.length&&(u=function(e){var t=e.target;t.dataset.link&&document.querySelector(t.dataset.link)&&(t=document.querySelector(t.dataset.link).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight,h.classList.contains("_active")&&n&&(a(),h.classList.toggle("_active"),f.classList.toggle("_active")),window.scrollTo({top:t,behavior:"smooth"}),e.preventDefault())},g.forEach(function(e){e.addEventListener("click",u)})),function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)}),j=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500,i=(e.style.removeProperty("display"),window.getComputedStyle(e).display),i=(e.style.display=i="none"===i?"block":i,e.offsetHeight);e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},p=document.querySelectorAll("._spoiler"),v=!0;if(0<p.length)for(var z=function(e){var r=p[e];r.addEventListener("click",function(e){if(v){if(v=!1,r.classList.contains("_spoiler-992")&&992<window.innerWidth)return!1;if(r.classList.contains("_spoiler-768")&&768<window.innerWidth)return!1;if(r.classList.contains("_spoiler-380")&&380<window.innerWidth)return!1;if(r.closest("._spoilers").classList.contains("_one"))for(var t=r.closest("._spoilers").querySelectorAll("._spoiler"),i=0;i<t.length;i++){var s=t[i];s!==r&&(s.classList.remove("_active"),m(s.nextElementSibling))}r.classList.toggle("_active"),!function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;if(!e.classList.contains("_slide"))e.classList.add("_slide"),("none"===window.getComputedStyle(e).display?j:m)(e,t)}(r.nextElementSibling),setTimeout(function(){v=!0},500)}})},y=0;y<p.length;y++)z(y);var g=X(662),g=X.n(g),B=Object.defineProperty,b=(e,t,i)=>{var s;return s=i,(t="symbol"!=typeof t?t+"":t)in(e=e)?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,i};const O=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,H=/^[0-9]+$/,N=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/,R=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;var S=(e=>(e.Required="required",e.Email="email",e.MinLength="minLength",e.MaxLength="maxLength",e.Password="password",e.Number="number",e.MaxNumber="maxNumber",e.MinNumber="minNumber",e.StrongPassword="strongPassword",e.CustomRegexp="customRegexp",e.MinFilesCount="minFilesCount",e.MaxFilesCount="maxFilesCount",e.Files="files",e))({}),w=(e=>(e.Required="required",e))({}),G=(e=>(e.Label="label",e.LabelArrow="labelArrow",e))({});const L=[{key:S.Required,dict:{en:"The field is required"}},{key:S.Email,dict:{en:"Email has invalid format"}},{key:S.MaxLength,dict:{en:"The field must contain a maximum of :value characters"}},{key:S.MinLength,dict:{en:"The field must contain a minimum of :value characters"}},{key:S.Password,dict:{en:"Password must contain minimum eight characters, at least one letter and one number"}},{key:S.StrongPassword,dict:{en:"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}},{key:S.Number,dict:{en:"Value should be a number"}},{key:S.MaxNumber,dict:{en:"Number should be less or equal than :value"}},{key:S.MinNumber,dict:{en:"Number should be more or equal than :value"}},{key:S.MinFilesCount,dict:{en:"Files count should be more or equal than :value"}},{key:S.MaxFilesCount,dict:{en:"Files count should be less or equal than :value"}},{key:S.Files,dict:{en:"Uploaded files have one or several invalid properties (extension/size/type etc)."}}],F=e=>"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then,C=e=>Array.isArray(e)?e.filter(e=>0<e.length):"string"==typeof e&&e.trim()?[...e.split(" ").filter(e=>0<e.length)]:[],E=e=>e instanceof Element||e instanceof HTMLDocument,k={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1,validateBeforeSubmitting:!1};class M{constructor(e,t,i){b(this,"form",null),b(this,"fields",{}),b(this,"groupFields",{}),b(this,"errors",{}),b(this,"isValid",!1),b(this,"isSubmitted",!1),b(this,"globalConfig",k),b(this,"errorLabels",{}),b(this,"successLabels",{}),b(this,"eventListeners",[]),b(this,"dictLocale",L),b(this,"currentLocale","en"),b(this,"customStyleTags",{}),b(this,"onSuccessCallback"),b(this,"onFailCallback"),b(this,"tooltips",[]),b(this,"lastScrollPosition"),b(this,"isScrollTick"),b(this,"fieldIds",new Map),b(this,"getKeyByFieldSelector",e=>this.fieldIds.get(e)),b(this,"getFieldSelectorByKey",e=>{for(var[t,i]of this.fieldIds)if(e===i)return t}),b(this,"setKeyByFieldSelector",e=>{var t;return this.fieldIds.has(e)?this.fieldIds.get(e):(t=String(this.fieldIds.size+1),this.fieldIds.set(e,t),t)}),b(this,"refreshAllTooltips",()=>{this.tooltips.forEach(e=>{e.refresh()})}),b(this,"handleDocumentScroll",()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame(()=>{this.refreshAllTooltips(),this.isScrollTick=!1}),this.isScrollTick=!0)}),b(this,"formSubmitHandler",e=>{e.preventDefault(),this.isSubmitted=!0,this.validateHandler(e)}),b(this,"handleFieldChange",e=>{let t;for(const i in this.fields)if(this.fields[i].elem===e){t=i;break}t&&this.validateField(t,!0)}),b(this,"handleGroupChange",t=>{let e,i;for(const r in this.groupFields){var s=this.groupFields[r];if(s.elems.find(e=>e===t)){e=s,i=r;break}}e&&i&&this.validateGroup(i,e)}),b(this,"handlerChange",e=>{e.target&&(this.handleFieldChange(e.target),this.handleGroupChange(e.target),this.renderErrors())}),this.initialize(e,t,i)}initialize(e,t,i){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=k,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],this.currentLocale="en","string"==typeof e){var s=document.querySelector(e);if(!s)throw Error(`Form with ${e} selector not found! Please check the form selector`);this.setForm(s)}else{if(!(e instanceof HTMLFormElement))throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");this.setForm(e)}this.globalConfig={...k,...t},i&&(this.dictLocale=[...i,...L]),this.isTooltip()&&((s=document.createElement("style")).textContent=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",this.customStyleTags[G.Label]=document.head.appendChild(s),this.addListener("scroll",document,this.handleDocumentScroll))}getLocalisedString(e,t,i){var s;const r=null!=i?i:e;let l=null==(s=this.dictLocale.find(e=>e.key===r))?void 0:s.dict[this.currentLocale];if(l||i&&(l=i),l&&void 0!==t)switch(e){case S.MaxLength:case S.MinLength:case S.MaxNumber:case S.MinNumber:case S.MinFilesCount:case S.MaxFilesCount:l=l.replace(":value",String(t))}return l||i||"Value is incorrect"}getFieldErrorMessage(e,t){t="function"==typeof e.errorMessage?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(e.rule,e.value,t)}getFieldSuccessMessage(e,t){t="function"==typeof e?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(void 0,void 0,t)}getGroupErrorMessage(e){return this.getLocalisedString(e.rule,void 0,e.errorMessage)}getGroupSuccessMessage(e){if(e.successMessage)return this.getLocalisedString(void 0,void 0,e.successMessage)}setFieldInvalid(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}setFieldValid(e,t){this.fields[e].isValid=!0,void 0!==t&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}setGroupInvalid(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}setGroupValid(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}validateGroupRule(e,t,i){i.rule===w.Required&&(t.every(e=>!e.checked)?this.setGroupInvalid(e,i):this.setGroupValid(e,i))}validateFieldRule(i,e,s,t=!1){var r,l,o,n,a,d,c,u=s.value,h=this.getElemValue(e);if(s.plugin)s.plugin(h,this.fields)||this.setFieldInvalid(i,s);else switch(s.rule){case S.Required:(e=>{let t=e;return!(t="string"==typeof e?e.trim():t)})(h)&&this.setFieldInvalid(i,s);break;case S.Email:"string"!=typeof h?this.setFieldInvalid(i,s):(c=h,O.test(c)||this.setFieldInvalid(i,s));break;case S.MaxLength:void 0===u?(console.error(`Value for ${s.rule} rule for [${i}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(i,s)):"number"!=typeof u?(console.error(`Value for ${s.rule} rule for [${i}] should be a number. The field will be always invalid.`),this.setFieldInvalid(i,s)):("string"!=typeof h||""!==h&&h.length>u)&&this.setFieldInvalid(i,s);break;case S.MinLength:void 0===u?(console.error(`Value for ${s.rule} rule for [${i}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(i,s)):"number"!=typeof u?(console.error(`Value for ${s.rule} rule for [${i}] should be a number. The field will be always invalid.`),this.setFieldInvalid(i,s)):("string"!=typeof h||""!==h&&h.length<u)&&this.setFieldInvalid(i,s);break;case S.Password:"string"!=typeof h?this.setFieldInvalid(i,s):""!==h&&(c=h,N.test(c)||this.setFieldInvalid(i,s));break;case S.StrongPassword:"string"!=typeof h?this.setFieldInvalid(i,s):""!==h&&(d=h,R.test(d)||this.setFieldInvalid(i,s));break;case S.Number:"string"!=typeof h?this.setFieldInvalid(i,s):""!==h&&(d=h,H.test(d)||this.setFieldInvalid(i,s));break;case S.MaxNumber:void 0===u?(console.error(`Value for ${s.rule} rule for [${i}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(i,s)):"number"!=typeof u?(console.error(`Value for ${s.rule} rule for [${i}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(i,s)):"string"!=typeof h?this.setFieldInvalid(i,s):""!==h&&(f=+h,(Number.isNaN(f)||u<f)&&this.setFieldInvalid(i,s));break;case S.MinNumber:void 0===u?(console.error(`Value for ${s.rule} rule for [${i}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(i,s)):"number"!=typeof u?(console.error(`Value for ${s.rule} rule for [${i}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(i,s)):"string"!=typeof h?this.setFieldInvalid(i,s):""!==h&&(f=+h,(Number.isNaN(f)||f<u)&&this.setFieldInvalid(i,s));break;case S.CustomRegexp:{if(void 0===u)return console.error(`Value for ${s.rule} rule for [${i}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(i,s);let e;try{e=new RegExp(u)}catch(e){console.error(`Value for ${s.rule} rule for [${i}] should be a valid regexp. This field will be always invalid.`),this.setFieldInvalid(i,s);break}var f=String(h);""===f||e.test(f)||this.setFieldInvalid(i,s);break}case S.MinFilesCount:void 0===u?(console.error(`Value for ${s.rule} rule for [${i}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(i,s)):"number"!=typeof u?(console.error(`Value for ${s.rule} rule for [${i}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(i,s)):Number.isFinite(null==h?void 0:h.length)&&h.length<u&&this.setFieldInvalid(i,s);break;case S.MaxFilesCount:void 0===u?(console.error(`Value for ${s.rule} rule for [${i}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(i,s)):"number"!=typeof u?(console.error(`Value for ${s.rule} rule for [${i}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(i,s)):Number.isFinite(null==h?void 0:h.length)&&h.length>u&&this.setFieldInvalid(i,s);break;case S.Files:if(void 0===u)return console.error(`Value for ${s.rule} rule for [${i}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(i,s);if("object"!=typeof u)return console.error(`Value for ${s.rule} rule for [${i}] field should be an object. This field will be always invalid.`),void this.setFieldInvalid(i,s);var g=u.files;if("object"!=typeof g)return console.error(`Value for ${s.rule} rule for [${i}] field should be an object with files array. This field will be always invalid.`),void this.setFieldInvalid(i,s);if("object"==typeof h&&null!==h)for(let e=0,t=h.length;e<t;++e){var m=h.item(e);if(!m){this.setFieldInvalid(i,s);break}if(m=m,r=g,a=n=o=l=void 0,l=Number.isFinite(r.minSize)&&m.size<r.minSize,o=Number.isFinite(r.maxSize)&&m.size>r.maxSize,n=Array.isArray(r.names)&&!r.names.includes(m.name),a=Array.isArray(r.extensions)&&!r.extensions.includes(m.name.split(".")[m.name.split(".").length-1]),r=Array.isArray(r.types)&&!r.types.includes(m.type),l||o||n||a||r){this.setFieldInvalid(i,s);break}}break;default:if("function"!=typeof s.validator)console.error(`Validator for custom rule for [${i}] field should be a function. This field will be always invalid.`),this.setFieldInvalid(i,s);else{var p,f=s.validator(h,this.fields);if("boolean"!=typeof f&&"function"!=typeof f&&console.error(`Validator return value for [${i}] field should be boolean or function. It will be cast to boolean.`),"function"==typeof f){if(!t)return this.fields[i].asyncCheckPending=!1,p=f(),F(p)?p.then(e=>{e||this.setFieldInvalid(i,s)}).catch(()=>{this.setFieldInvalid(i,s)}):(console.error(`Validator function for custom rule for [${i}] field should return a Promise. This field will be always invalid.`),void this.setFieldInvalid(i,s));this.fields[i].asyncCheckPending=!0}f||this.setFieldInvalid(i,s)}}}validateField(t,i=!1){var e;const s=this.fields[t],r=(s.isValid=!0,[]);return[...s.rules].reverse().forEach(e=>{e=this.validateFieldRule(t,s.elem,e,i);F(e)&&r.push(e)}),s.isValid&&this.setFieldValid(t,null==(e=s.config)?void 0:e.successMessage),Promise.allSettled(r)}revalidateField(e){if("string"!=typeof e&&!E(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return t&&this.fields[t]?new Promise(e=>{this.validateField(t,!0).finally(()=>{this.clearFieldStyle(t),this.clearFieldLabel(t),this.renderFieldError(t),e(!!this.fields[t].isValid)})}):(console.error("Field not found. Check the field selector."),Promise.reject())}validateGroup(t,i){const s=[];return[...i.rules].reverse().forEach(e=>{e=this.validateGroupRule(t,i.elems,e);F(e)&&s.push(e)}),Promise.allSettled(s)}focusInvalidField(){for(const e in this.fields){const t=this.fields[e];if(!t.isValid){setTimeout(()=>t.elem.focus(),0);break}}}afterSubmitValidation(e=!1){this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(t=!1){return new Promise(e=>{const i=[];Object.keys(this.fields).forEach(e=>{e=this.validateField(e);F(e)&&i.push(e)}),Object.keys(this.groupFields).forEach(e=>{var t=this.groupFields[e],e=this.validateGroup(e,t);F(e)&&i.push(e)}),i.length?Promise.allSettled(i).then(()=>{this.afterSubmitValidation(t),e(!0)}):(this.afterSubmitValidation(t),e(!1))})}revalidate(){return new Promise(e=>{this.validateHandler(void 0,!0).finally(()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),e(this.isValid)})})}validateHandler(t,e=!1){return this.globalConfig.lockForm&&this.lockForm(),this.validate(e).finally(()=>{var e;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?null!=(e=this.onSuccessCallback)&&e.call(this,t):null!=(e=this.onFailCallback)&&e.call(this,this.fields,this.groupFields)})}setForm(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(e,t,i){t.addEventListener(e,i),this.eventListeners.push({type:e,elem:t,func:i})}removeListener(t,i,e){i.removeEventListener(t,e),this.eventListeners=this.eventListeners.filter(e=>e.type!==t||e.elem!==i)}addField(e,t,i){if("string"!=typeof e&&!E(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let s;if(!(s="string"==typeof e?this.form.querySelector(e):e))throw Error("Field doesn't exist in the DOM! Please check the field selector.");if(!Array.isArray(t)||!t.length)throw Error("Rules argument should be an array and should contain at least 1 element.");t.forEach(e=>{if(!("rule"in e||"validator"in e||"plugin"in e))throw Error("Rules argument must contain at least one rule or validator property.");if(!(e.validator||e.plugin||e.rule&&Object.values(S).includes(e.rule)))throw Error(`Rule should be one of these types: ${Object.values(S).join(", ")}. Provided value: `+e.rule)});e=this.setKeyByFieldSelector(e);return this.fields[e]={elem:s,rules:t,isValid:void 0,config:i},this.setListeners(s),this.isSubmitted&&this.validate(),this}removeField(e){var t;if("string"==typeof e||E(e))return(e=this.getKeyByFieldSelector(e))&&this.fields[e]?(t=this.getListenerType(this.fields[e].elem.type),this.removeListener(t,this.fields[e].elem,this.handlerChange),this.clearErrors(),delete this.fields[e]):console.error("Field not found. Check the field selector."),this;throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.")}removeGroup(e){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");e=this.getKeyByFieldSelector(e);return e&&this.groupFields[e]?(this.groupFields[e].elems.forEach(e=>{var t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange)}),this.clearErrors(),delete this.groupFields[e]):console.error("Group not found. Check the group selector."),this}addRequiredGroup(e,t,i,s){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");var r,l,o,n=this.form.querySelector(e);if(n)return r=n.querySelectorAll("input"),l=Array.from(r).filter(t=>{var e=((i,e)=>{var s=[...e].reverse();for(let e=0,t=s.length;e<t;++e){var r=s[e];for(const o in i){var l=i[o];if(l.groupElem===r)return[o,l]}}return null})(this.groupFields,(e=>{let t=e;for(var i=[];t;)i.unshift(t),t=t.parentNode;return i})(t));return!e||e[1].elems.find(e=>e!==t)}),o=this.setKeyByFieldSelector(e),this.groupFields[o]={rules:[{rule:w.Required,errorMessage:t,successMessage:s}],groupElem:n,elems:l,isDirty:!1,isValid:void 0,config:i},r.forEach(e=>{this.setListeners(e)}),this;throw Error(`Group with ${e} selector not found! Please check the group selector.`)}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(e){var t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}clearFieldLabel(e){var t;null!=(t=this.errorLabels[e])&&t.remove(),null!=(t=this.successLabels[e])&&t.remove()}clearFieldStyle(e){const t=this.fields[e];var e=(null==(e=t.config)?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle,e=(Object.keys(e).forEach(e=>{t.elem.style[e]=""}),(null==(e=t.config)?void 0:e.successFieldStyle)||this.globalConfig.successFieldStyle||{});Object.keys(e).forEach(e=>{t.elem.style[e]=""}),t.elem.classList.remove(...C((null==(e=t.config)?void 0:e.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...C((null==(e=t.config)?void 0:e.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){Object.keys(this.errorLabels).forEach(e=>this.errorLabels[e].remove()),Object.keys(this.successLabels).forEach(e=>this.successLabels[e].remove());for(const t in this.fields)this.clearFieldStyle(t);for(const i in this.groupFields){const s=this.groupFields[i];var e=(null==(e=s.config)?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle,e=(Object.keys(e).forEach(t=>{s.elems.forEach(e=>{e.style[t]="",e.classList.remove(...C((null==(e=s.config)?void 0:e.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))})}),(null==(e=s.config)?void 0:e.successFieldStyle)||this.globalConfig.successFieldStyle||{});Object.keys(e).forEach(t=>{s.elems.forEach(e=>{e.style[t]="",e.classList.remove(...C((null==(e=s.config)?void 0:e.successFieldCssClass)||this.globalConfig.successFieldCssClass))})})}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){var i=this.form.querySelectorAll("input, textarea, button, select");for(let e=0,t=i.length;e<t;++e)i[e].setAttribute("data-just-validate-fallback-disabled",i[e].disabled?"true":"false"),i[e].setAttribute("disabled","disabled"),i[e].style.pointerEvents="none",i[e].style.webkitFilter="grayscale(100%)",i[e].style.filter="grayscale(100%)"}unlockForm(){var i=this.form.querySelectorAll("input, textarea, button, select");for(let e=0,t=i.length;e<t;++e)"true"!==i[e].getAttribute("data-just-validate-fallback-disabled")&&i[e].removeAttribute("disabled"),i[e].style.pointerEvents="",i[e].style.webkitFilter="",i[e].style.filter=""}renderTooltip(e,t,i){var{top:s,left:r,width:l,height:o}=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=i||(null==(a=this.globalConfig.tooltip)?void 0:a.position);switch(a){case"left":t.style.top=s+o/2-n.height/2+"px",t.style.left=r-n.width-5+"px";break;case"top":t.style.top=s-n.height-5+"px",t.style.left=r+l/2-n.width/2+"px";break;case"right":t.style.top=s+o/2-n.height/2+"px",t.style.left=r+l+5+"px";break;case"bottom":t.style.top=s+o+5+"px",t.style.left=r+l/2-n.width/2+"px"}t.dataset.direction=a;return{refresh:()=>{this.renderTooltip(e,t,i)}}}createErrorLabelElem(e,t,i){var s=document.createElement("div"),t=(s.innerHTML=t,this.isTooltip()?null==i?void 0:i.errorLabelStyle:(null==i?void 0:i.errorLabelStyle)||this.globalConfig.errorLabelStyle);return Object.assign(s.style,t),s.classList.add(...C((null==i?void 0:i.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(s.dataset.tooltip="true"),this.globalConfig.testingMode&&(s.dataset.testId="error-label-"+e),this.errorLabels[e]=s}createSuccessLabelElem(e,t,i){var s;return void 0===t?null:((s=document.createElement("div")).innerHTML=t,t=(null==i?void 0:i.successLabelStyle)||this.globalConfig.successLabelStyle,Object.assign(s.style,t),s.classList.add(...C((null==i?void 0:i.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(s.dataset.testId="success-label-"+e),this.successLabels[e]=s)}renderErrorsContainer(e,t){t=t||this.globalConfig.errorsContainer;if("string"==typeof t){var i=this.form.querySelector(t);if(i)return i.appendChild(e),!0;console.error(`Error container with ${t} selector not found. Errors will be rendered as usual`)}return t instanceof Element?(t.appendChild(e),!0):(void 0!==t&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(e,t,i,s){if(!s&&this.renderErrorsContainer(t,i))return;e.appendChild(t)}renderFieldLabel(e,t,i,s){if(!s&&this.renderErrorsContainer(t,i))return;"checkbox"===e.type||"radio"===e.type?(s=document.querySelector(`label[for="${e.getAttribute("id")}"]`),"label"===(null==(i=null==(i=e.parentElement)?void 0:i.tagName)?void 0:i.toLowerCase())?null!=(i=null==(i=e.parentElement)?void 0:i.parentElement)&&i.appendChild(t):s?null!=(i=s.parentElement)&&i.appendChild(t):null!=(s=e.parentElement)&&s.appendChild(t)):null!=(i=e.parentElement)&&i.appendChild(t)}showLabels(r,l){Object.keys(r).forEach((e,t)=>{var i=r[e],e=this.getKeyByFieldSelector(e);if(e&&this.fields[e]){const s=this.fields[e];s.isValid=!l,this.clearFieldStyle(e),this.clearFieldLabel(e),this.renderFieldError(e,i),0===t&&this.globalConfig.focusInvalidField&&setTimeout(()=>s.elem.focus(),0)}else console.error("Field not found. Check the field selector.")})}showErrors(e){if("object"!=typeof e)throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}showSuccessLabels(e){if("object"!=typeof e)throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}renderFieldError(e,t){var i,s=this.fields[e];void 0!==s.isValid&&(s.isValid?s.asyncCheckPending||((i=this.createSuccessLabelElem(e,void 0!==t?t:s.successMessage,s.config))&&this.renderFieldLabel(s.elem,i,null==(i=s.config)?void 0:i.errorsContainer,!0),s.elem.classList.add(...C((null==(i=s.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))):(this.isValid=!1,s.elem.classList.add(...C((null==(i=s.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass)),i=this.createErrorLabelElem(e,void 0!==t?t:s.errorMessage,s.config),this.renderFieldLabel(s.elem,i,null==(e=s.config)?void 0:e.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(s.elem,i,null==(e=null==(t=s.config)?void 0:t.tooltip)?void 0:e.position))))}renderGroupError(e){var t;const i=this.groupFields[e];void 0!==i.isValid&&(i.isValid?(i.elems.forEach(e=>{var t;Object.assign(e.style,(null==(t=i.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle),e.classList.add(...C((null==(t=i.config)?void 0:t.successFieldCssClass)||this.globalConfig.successFieldCssClass))}),(t=this.createSuccessLabelElem(e,i.successMessage,i.config))&&this.renderGroupLabel(i.groupElem,t,null==(t=i.config)?void 0:t.errorsContainer,!0)):(this.isValid=!1,i.elems.forEach(e=>{var t;Object.assign(e.style,(null==(t=i.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle),e.classList.add(...C((null==(t=i.config)?void 0:t.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))}),t=this.createErrorLabelElem(e,i.errorMessage,i.config),this.renderGroupLabel(i.groupElem,t,null==(e=i.config)?void 0:e.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(i.groupElem,t,null==(t=null==(e=i.config)?void 0:e.tooltip)?void 0:t.position))))}renderErrors(e=!1){if(this.isSubmitted||e||this.globalConfig.validateBeforeSubmitting){this.clearErrors(),this.isValid=!0;for(const t in this.groupFields)this.renderGroupError(t);for(const i in this.fields)this.renderFieldError(i)}}destroy(){this.eventListeners.forEach(e=>{this.removeListener(e.type,e.elem,e.func)}),Object.keys(this.customStyleTags).forEach(e=>{this.customStyleTags[e].remove()}),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach(e=>{var t=this.getFieldSelectorByKey(e);t&&this.addField(t,[...this.fields[e].rules],this.fields[e].config)})):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(e){"string"!=typeof e&&void 0!==e?console.error("Current locale should be a string"):(this.currentLocale=e,this.isSubmitted&&this.validate())}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}}var _;X(825);function x(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var i;if(e)return"string"==typeof e?q(e,t):"Map"===(i="Object"===(i=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?q(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function A(e,t){for(var i=0;i<e.length;i++)e[i].classList.remove(t)}g().init(document.querySelectorAll(".variants__block"),{max:10,speed:100}),g().init(document.querySelectorAll(".projects__item"),{max:10,speed:100}),void 0!==document.querySelector(".form-one")&&null!=document.querySelector(".form-one")&&(_=new M(".form-one",{errorFieldCssClass:"_is-invalid",successFieldCssClass:"_is-valid",errorLabelStyle:{fontSize:"12px",color:"#b81111"},errorLabelCssClass:"error",focusInvalidField:!0,lockForm:!0,tooltip:{position:"right"}})).addField(".email-input",[{rule:"required",errorMessage:"Требуется электронная почта"},{rule:"email",errorMessage:"Введите действующий адрес почты"}]).addField(".password-input",[{rule:"required",errorMessage:"Требуется пароль"},{rule:"password",errorMessage:"Пароль должен содержать минимум восемь символов, минимум одну букву и одну цифру"}]).onSuccess(function(e){console.log("Validation passes and form submitted",e);var t,i=new FormData(e.target),s=((t=console).log.apply(t,x(i)),new XMLHttpRequest);s.onreadystatechange=function(){4===s.readyState&&200===s.status&&console.log("Отправлено")},s.open("POST","mail.php",!0),s.send(i),e.target.reset(),_.refresh()}),void 0!==document.querySelector(".form-two")&&null!=document.querySelector(".form-two")&&new M(".form-two",{errorFieldCssClass:"_is-invalid",successFieldCssClass:"_is-valid",errorLabelStyle:{fontSize:"12px",color:"#b81111"},errorLabelCssClass:"_error",focusInvalidField:!0,lockForm:!0,tooltip:{position:"right"}}).addField(".email-input",[{rule:"required",errorMessage:"Требуется электронная почта"},{rule:"email",errorMessage:"Введите действующий адрес почты"}]).addField(".password-input",[{rule:"required",errorMessage:"Требуется пароль"},{rule:"password",errorMessage:"Пароль должен содержать минимум восемь символов, минимум одну букву и одну цифру"}]).addField(".password-input--two",[{rule:"required",errorMessage:"Требуется пароль"},{rule:"password",validator:function(e,t){return!t["#password-registration"]||!t["#password-registration"].elem||e===t["#password-registration"].elem.value},errorMessage:"Пароли должны быть одинаковыми"}]).onSuccess(function(e){console.log("Validation passes and form submitted",e);var t,i=new FormData(e.target),s=((t=console).log.apply(t,x(i)),new XMLHttpRequest);s.onreadystatechange=function(){4===s.readyState&&200===s.status&&console.log("Отправлено")},s.open("POST","mail.php",!0),s.send(i),e.target.reset(),validator.refresh()}),document.addEventListener("click",function(e){e=e.target;(window.innerWidth<768||s.any())&&(e.classList.contains("dashboard__btn")?(e.nextElementSibling.classList.toggle("_show"),document.querySelector(".dashboard__content").classList.toggle("_show")):!e.classList.contains("dashboard__left")&&0<document.querySelectorAll(".dashboard__left._show").length&&(A(document.querySelectorAll(".dashboard__left._show"),"_show"),A(document.querySelectorAll(".dashboard__content._show"),"_show")),e.classList.contains("header-icon-select")&&e.closest(".header-users").classList.toggle("_open"),!e.closest(".header-users")&&0<document.querySelectorAll(".header-users._open").length&&A(document.querySelectorAll(".header-users._open"),"_open"))});for(var T,I=document.querySelectorAll(".tabs"),W=function(e){for(var e=I[e],r=e.querySelectorAll(".tabs__link"),l=e.querySelectorAll(".tabs__tab"),t=0;t<r.length;t++)!function(i){var s=r[i];s.addEventListener("click",function(e){for(var t=0;t<r.length;t++)r[t].classList.remove("_active"),l[t].classList.remove("_active");s.classList.add("_active"),l[i].classList.add("_active"),e.preventDefault()})}(t)},P=0;P<I.length;P++)W(P);s.any()?($(".dashboard__right").mCustomScrollbar("destroy"),$(".withdrawal .tabs__body").mCustomScrollbar("destroy"),$(".withdrawal .d-block__items").mCustomScrollbar("destroy"),$(".support__items").mCustomScrollbar("destroy"),$(".support__chat-viewport").mCustomScrollbar("destroy")):($(".dashboard__right").mCustomScrollbar(),$(".withdrawal .tabs__body").mCustomScrollbar(),$(".withdrawal .d-block__items").mCustomScrollbar(),$(".support__items").mCustomScrollbar(),$(".support__chat-viewport").mCustomScrollbar()),"function"!=typeof(g=window.Element.prototype).matches&&(g.matches=g.msMatchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=0;t[i]&&t[i]!==this;)++i;return Boolean(t[i])}),"function"!=typeof g.closest&&(g.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("._open-modal"),t=document.querySelectorAll("._close-modal");e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+e+'"]').classList.add("_active"),c()})}),t.forEach(function(e){e.addEventListener("click",function(e){this.closest(".modal").classList.remove("_active"),d()})}),document.body.addEventListener("keyup",function(e){27===e.keyCode&&(document.querySelector(".modal._active").classList.remove("_active"),document.querySelector(".overlay").classList.remove("_active"))},!1)}),void 0!==document.querySelector("#payment")&&null!=document.querySelector("#payment")&&$("#payment").ddslick({onSelected:function(e){}}),void 0!==document.querySelector(".invoicing__block_two")&&null!=document.querySelector(".invoicing__block_two")&&document.querySelector(".invoicing__copy-btn").addEventListener("click",function(){var e;(e=document.getElementById("url")).innerHTML=window.location.href,console.log(e.innerHTML),e.select(),document.execCommand("copy")}),void 0!==document.querySelector(".transactions")&&null!=document.querySelector(".transactions")&&(g=document.querySelector(".tabs__tab"),T=new Isotope(g,{itemSelector:".tabs__item",layoutMode:"masonry"}),document.querySelectorAll(".tabs__link").forEach(function(e){e.addEventListener("click",function(e){e=e.currentTarget.dataset.filter;T.arrange({filter:"".concat(e)})})}));for(var D=document.querySelectorAll(".tabsS"),Y=function(e){for(var s=D[e].querySelectorAll(".tabs__link"),t=0;t<s.length;t++)!function(e){var i=s[e];i.addEventListener("click",function(e){for(var t=0;t<s.length;t++)s[t].classList.remove("_active");i.classList.add("_active"),e.preventDefault()})}(t)},V=0;V<D.length;V++)Y(V)}()}();